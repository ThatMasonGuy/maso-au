import{I as Fe,Q as Ue,a as Be,t as Me}from"./radix-vue-6Z8x3TUN.js";import{i as ne,V as ze,c as F,t as _e,b as te,D as ae,E as me,q as ge,u as E,w as z,O as We,r as S,x as we,k as He,h as Le,m as Ve,n as qe}from"./@vue-DsGlF1-j.js";(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('[vaul-drawer]{touch-action:none;transform:translate3d(0,100%,0);transition:transform .5s cubic-bezier(.32,.72,0,1)}.vaul-dragging .vaul-scrollable{overflow-y:hidden!important}[vaul-drawer][vaul-drawer-visible=true]{transform:translate3d(0,var(--snap-point-height, 0),0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]:after{content:"";position:absolute;top:100%;background:inherit;background-color:inherit;left:0;right:0;height:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@keyframes fake-animation{}@media (hover: hover) and (pointer: fine){[vaul-drawer]{-webkit-user-select:none;user-select:none}}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Ye=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Qe=n=>typeof n<"u";function Ge(n){return JSON.parse(JSON.stringify(n))}function ce(n,e,u,r={}){var t,$,y;const{clone:T=!1,passive:p=!1,eventName:o,deep:D=!1,defaultValue:P,shouldEmit:A}=r,x=Le(),b=u||(x==null?void 0:x.emit)||((t=x==null?void 0:x.$emit)==null?void 0:t.bind(x))||((y=($=x==null?void 0:x.proxy)==null?void 0:$.$emit)==null?void 0:y.bind(x==null?void 0:x.proxy));let l=o;e||(e="modelValue"),l=l||`update:${e.toString()}`;const i=m=>T?typeof T=="function"?T(m):Ge(m):m,s=()=>Qe(n[e])?i(n[e]):P,g=m=>{A?A(m)&&b(l,m):b(l,m)};if(p){const m=s(),f=S(m);let R=!1;return z(()=>n[e],k=>{R||(R=!0,f.value=i(k),we(()=>R=!1))}),z(f,k=>{!R&&(k!==n[e]||D)&&g(k)},{deep:D}),f}else return F({get(){return s()},set(m){g(m)}})}const[be,Je]=Be("DrawerRoot"),ye=new WeakMap;function w(n,e,u=!1){if(!n||!(n instanceof HTMLElement)||!e)return;const r={};Object.entries(e).forEach(([t,$])=>{if(t.startsWith("--")){n.style.setProperty(t,$);return}r[t]=n.style[t],n.style[t]=$}),!u&&ye.set(n,r)}function K(n,e){if(!n||!(n instanceof HTMLElement))return;const u=ye.get(n);u&&(e?n.style[e]=u[e]:Object.entries(u).forEach(([r,t])=>{n.style[r]=t}))}function X(n){const e=window.getComputedStyle(n),u=e.transform||e.webkitTransform||e.mozTransform;let r=u.match(/^matrix3d\((.+)\)$/);return r?Number.parseFloat(r[1].split(", ")[13]):(r=u.match(/^matrix\((.+)\)$/),r?Number.parseFloat(r[1].split(", ")[5]):null)}function Ke(n){return 8*(Math.log(n+1)-2)}const c={DURATION:.5,EASE:[.32,.72,0,1]},he=.4;function Xe({activeSnapPoint:n,snapPoints:e,drawerRef:u,overlayRef:r,fadeFromIndex:t,onSnapPointChange:$}){const y=F(()=>(e.value&&n.value===e.value[e.value.length-1])??null),T=F(()=>e.value&&e.value.length>0&&((t==null?void 0:t.value)||(t==null?void 0:t.value)===0)&&!Number.isNaN(t==null?void 0:t.value)&&e.value[(t==null?void 0:t.value)??-1]===n.value||!e.value),p=F(()=>{var l;return((l=e.value)==null?void 0:l.findIndex(i=>i===n.value))??null}),o=F(()=>{var l;return((l=e.value)==null?void 0:l.map(i=>{const s=typeof window<"u",g=typeof i=="string";let m=0;g&&(m=Number.parseInt(i,10));const f=g?m:s?i*window.innerHeight:0;return s?window.innerHeight-f:f}))??[]}),D=F(()=>{var l;return p.value!==null?(l=o.value)==null?void 0:l[p.value]:null}),P=l=>{var i,s,g,m;const f=((i=o.value)==null?void 0:i.findIndex(R=>R===l))??null;we(()=>{var R;$(f,o.value),w((R=u.value)==null?void 0:R.$el,{transition:`transform ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`,transform:`translate3d(0, ${l}px, 0)`})}),o.value&&f!==o.value.length-1&&f!==(t==null?void 0:t.value)?w((s=r.value)==null?void 0:s.$el,{transition:`opacity ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`,opacity:"0"}):w((g=r.value)==null?void 0:g.$el,{transition:`opacity ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`,opacity:"1"}),n.value=f!==null?((m=e.value)==null?void 0:m[f])??null:null};z([n,o,e],()=>{var l;if(n.value){const i=((l=e.value)==null?void 0:l.findIndex(s=>s===n.value))??-1;o.value&&i!==-1&&typeof o.value[i]=="number"&&P(o.value[i])}},{immediate:!0});function A({draggedDistance:l,closeDrawer:i,velocity:s,dismissible:g}){var m,f,R;if(t===void 0)return;const k=(D.value??0)-l,Y=p.value===(t.value??0)-1,_=p.value===0,B=l>0;if(Y&&w((m=r.value)==null?void 0:m.$el,{transition:`opacity ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`}),s>2&&!B){g?i():P(o.value[0]);return}if(s>2&&B&&o&&e.value){P(o.value[e.value.length-1]);return}const H=(f=o.value)==null?void 0:f.reduce((I,L)=>typeof I!="number"||typeof L!="number"?I:Math.abs(L-k)<Math.abs(I-k)?L:I);if(s>he&&Math.abs(l)<window.innerHeight*.4){const I=B?1:-1;if(I>0&&y){P(o.value[(((R=e.value)==null?void 0:R.length)??0)-1]);return}if(_&&I<0&&g&&i(),p.value===null)return;P(o.value[p.value+I]);return}P(H)}function x({draggedDistance:l}){var i;if(D.value===null)return;const s=D.value-l;w((i=u.value)==null?void 0:i.$el,{transform:`translate3d(0, ${s}px, 0)`})}function b(l,i){if(!e||typeof p.value!="number"||!o.value||t===void 0)return null;const s=p.value===(t.value??0)-1;if(p.value>=(t.value??0)&&i)return 0;if(s&&!i)return 1;if(!T.value&&!s)return null;const g=s?p.value+1:p.value-1,m=s?o.value[g]-o.value[g-1]:o.value[g+1]-o.value[g],f=l/Math.abs(m);return s?1-f:f}return{isLastSnapPoint:y,shouldFade:T,getPercentageDragged:b,activeSnapPointIndex:p,onRelease:A,onDrag:x,snapPointsOffset:o}}let q=null;function Ze(n){const{isOpen:e,modal:u,nested:r,hasBeenOpened:t}=n,$=S(typeof window<"u"?window.location.href:""),y=S(0);function T(){if(q===null&&e.value){q={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:o,innerHeight:D}=window;document.body.style.position="fixed",document.body.style.top=`-${y.value}px`,document.body.style.left=`-${o}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>{requestAnimationFrame(()=>{const P=D-window.innerHeight;P&&y.value>=D&&(document.body.style.top=`-${y.value+P}px`)})},300)}}function p(){if(q!==null){const o=-Number.parseInt(document.body.style.top,10),D=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,q),requestAnimationFrame(()=>{if($.value!==window.location.href){$.value=window.location.href;return}window.scrollTo(D,o)}),q=null}}return Ve(()=>{function o(){y.value=window.scrollY}o(),window.addEventListener("scroll",o),qe(()=>{window.removeEventListener("scroll",o)})}),z([e,t,$],()=>{r.value||!t.value||(e.value?(T(),u||setTimeout(()=>{p()},500)):p())}),{restorePositionSetting:p}}const en=.25,nn=100,fe=8,M=16,tn=26,pe="vaul-dragging";function an(n,e){return n&&n.value?n:e}function on(n){const{emitDrag:e,emitRelease:u,emitClose:r,emitOpenChange:t,open:$,dismissible:y,nested:T,fixed:p,modal:o,shouldScaleBackground:D,scrollLockTimeout:P,closeThreshold:A,activeSnapPoint:x,fadeFromIndex:b}=n,l=S($.value??!1),i=S(!1),s=S(!1),g=S(!1),m=S(!1),f=S(null),R=S(null),k=S(null),Y=S(null),_=S(null),B=S(!0),H=S(null),I=S(0),L=S(!1);S(0);const v=S(null);S(0);const oe=F(()=>{var a;return((a=v.value)==null?void 0:a.$el.getBoundingClientRect().height)||0}),C=an(n.snapPoints,S(void 0)),{activeSnapPointIndex:le,onRelease:$e,snapPointsOffset:De,onDrag:Se,shouldFade:ie,getPercentageDragged:Te}=Xe({snapPoints:C,activeSnapPoint:x,drawerRef:v,fadeFromIndex:b,overlayRef:f,onSnapPointChange:Pe});function Pe(a,d){C.value&&a===d.length-1&&(R.value=new Date)}const{restorePositionSetting:xe}=Ze({isOpen:l,modal:o,nested:T,hasBeenOpened:i});function Q(){return(window.innerWidth-tn)/window.innerWidth}function re(a,d){var O;if(!a)return!1;let h=a;const N=(O=window.getSelection())==null?void 0:O.toString(),j=v.value?X(v.value.$el):null,U=new Date;if(h.hasAttribute("data-vaul-no-drag")||h.closest("[data-vaul-no-drag]")||R.value&&U.getTime()-R.value.getTime()<500)return!1;if(j&&j>0)return!0;if(N&&N.length>0)return!1;if(_.value&&U.getTime()-_.value.getTime()<P.value&&j===0||d)return _.value=U,!1;for(;h;){if(h.scrollHeight>h.clientHeight){if(h.scrollTop!==0)return _.value=new Date,!1;if(h.getAttribute("role")==="dialog")return!0}h=h.parentNode}return!0}function Oe(a){!y.value&&!C.value||v.value&&!v.value.$el.contains(a.target)||(g.value=!0,k.value=new Date,a.target.setPointerCapture(a.pointerId),I.value=a.screenY)}function Re(a){var d,O,h,N,j,U;if(g.value){const G=I.value-a.screenY,J=G>0;if(C.value&&le.value===0&&!y.value&&!J||!B.value&&!re(a.target,J))return;if((d=v==null?void 0:v.value)==null||d.$el.classList.add(pe),B.value=!0,w((O=v.value)==null?void 0:O.$el,{transition:"none"}),w((h=f.value)==null?void 0:h.$el,{transition:"none"}),C.value&&Se({draggedDistance:G}),J&&!C.value){const ee=Ke(G);w((N=v.value)==null?void 0:N.$el,{transform:`translate3d(0, ${Math.min(ee*-1,0)}px, 0)`});return}const Z=Math.abs(G),de=document.querySelector("[vaul-drawer-wrapper]");let W=Z/oe.value;const ve=Te(Z,J);ve!==null&&(W=ve);const ke=1-W;if((ie.value||b.value&&le.value===b.value-1)&&(e(W),w((j=f.value)==null?void 0:j.$el,{opacity:`${ke}`,transition:"none"},!0)),de&&f.value&&D.value){const ee=Math.min(Q()+W*(1-Q()),1),Ce=8-W*8,je=Math.max(0,14-W*14);w(de,{borderRadius:`${Ce}px`,transform:`scale(${ee}) translate3d(0, ${je}px, 0)`,transition:"none"},!0)}C.value||w((U=v.value)==null?void 0:U.$el,{transform:`translate3d(0, ${Z}px, 0)`})}}function ue(){var a;if(!v.value)return;const d=document.querySelector("[vaul-drawer-wrapper]"),O=X(v.value.$el);w(v.value.$el,{transform:"translate3d(0, 0, 0)",transition:`transform ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`}),w((a=f.value)==null?void 0:a.$el,{transition:`opacity ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`,opacity:"1"}),D.value&&O&&O>0&&l.value&&w(d,{borderRadius:`${fe}px`,overflow:"hidden",transform:`scale(${Q()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top",transitionProperty:"transform, border-radius",transitionDuration:`${c.DURATION}s`,transitionTimingFunction:`cubic-bezier(${c.EASE.join(",")})`},!0)}function V(){var a;v.value&&(w(v.value.$el,{transform:"translate3d(0, 100%, 0)",transition:`transform ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`}),w((a=f.value)==null?void 0:a.$el,{opacity:"0",transition:`opacity ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`}),se(!1),xe(),window.setTimeout(()=>{s.value=!1,l.value=!1},300),window.setTimeout(()=>{C.value&&(x.value=C.value[0])},c.DURATION*1e3))}He(()=>{if(!l.value&&D.value&&Ye){const a=setTimeout(()=>{K(document.body)},200);return()=>clearTimeout(a)}});function Ee(a){if(!g.value||!v.value)return;v.value.$el.classList.remove(pe),B.value=!1,g.value=!1,Y.value=new Date;const d=X(v.value.$el);if(!re(a.target,!1)||!d||Number.isNaN(d)||k.value===null)return;const O=Y.value.getTime()-k.value.getTime(),h=I.value-a.screenY,N=Math.abs(h)/O;if(N>.05&&(m.value=!0,window.setTimeout(()=>{m.value=!1},200)),C.value){$e({draggedDistance:h,closeDrawer:V,velocity:N,dismissible:y.value}),u(!0);return}if(h>0){ue(),u(!0);return}if(N>he){V(),u(!1);return}const j=Math.min(v.value.$el.getBoundingClientRect().height??0,window.innerHeight);if(d>=j*A.value){V(),u(!1);return}u(!0),ue()}z(l,a=>{a&&(R.value=new Date,se(!0)),t(a)},{immediate:!0}),z($,a=>{a?(l.value=a,i.value=!0):V()},{immediate:!0});function se(a){const d=document.querySelector("[vaul-drawer-wrapper]");!d||!D.value||(a?(w(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),w(document.body,{background:"black"},!0),w(d,{borderRadius:`${fe}px`,overflow:"hidden",transform:`scale(${Q()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top",transitionProperty:"transform, border-radius",transitionDuration:`${c.DURATION}s`,transitionTimingFunction:`cubic-bezier(${c.EASE.join(",")})`})):(K(d,"overflow"),K(d,"transform"),K(d,"borderRadius"),w(d,{transitionProperty:"transform, border-radius",transitionDuration:`${c.DURATION}s`,transitionTimingFunction:`cubic-bezier(${c.EASE.join(",")})`})))}function Ae(a){var d,O;const h=a?(window.innerWidth-M)/window.innerWidth:1,N=a?-M:0;H.value&&window.clearTimeout(H.value),w((d=v.value)==null?void 0:d.$el,{transition:`transform ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`,transform:`scale(${h}) translate3d(0, ${N}px, 0)`}),!a&&(O=v.value)!=null&&O.$el&&(H.value=window.setTimeout(()=>{var j,U;w((j=v.value)==null?void 0:j.$el,{transition:"none",transform:`translate3d(0, ${X((U=v.value)==null?void 0:U.$el)}px, 0)`})},500))}function Ie(a){var d;if(a<0)return;const O=(window.innerWidth-M)/window.innerWidth,h=O+a*(1-O),N=-M+a*M;w((d=v.value)==null?void 0:d.$el,{transform:`scale(${h}) translate3d(0, ${N}px, 0)`,transition:"none"})}function Ne(a){var d;const O=a?(window.innerWidth-M)/window.innerWidth:1,h=a?-M:0;a&&w((d=v.value)==null?void 0:d.$el,{transition:`transform ${c.DURATION}s cubic-bezier(${c.EASE.join(",")})`,transform:`scale(${O}) translate3d(0, ${h}px, 0)`})}return{open:$,isOpen:l,modal:o,keyboardIsOpen:L,hasBeenOpened:i,isVisible:s,drawerRef:v,drawerHeightRef:oe,overlayRef:f,isDragging:g,dragStartTime:k,isAllowedToDrag:B,snapPoints:C,activeSnapPoint:x,pointerStartY:I,dismissible:y,snapPointsOffset:De,shouldFade:ie,fadeFromIndex:b,shouldScaleBackground:D,onPress:Oe,onDrag:Re,onRelease:Ee,closeDrawer:V,onNestedDrag:Ie,onNestedRelease:Ne,onNestedOpenChange:Ae,emitClose:r,emitDrag:e,emitRelease:u,emitOpenChange:t,nested:T}}const un=ne({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:en},shouldScaleBackground:{type:Boolean,default:void 0},scrollLockTimeout:{default:nn},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint"],setup(n,{expose:e,emit:u}){const r=n,t=u;ze();const $=F(()=>r.fadeFromIndex??(r.snapPoints&&r.snapPoints.length-1)),y=ce(r,"open",t,{defaultValue:r.defaultOpen,passive:r.open===void 0}),T=ce(r,"activeSnapPoint",t,{passive:r.activeSnapPoint===void 0}),p={emitDrag:b=>t("drag",b),emitRelease:b=>t("release",b),emitClose:()=>t("close"),emitOpenChange:b=>{t("update:open",b)}},{closeDrawer:o,hasBeenOpened:D,modal:P,isOpen:A}=Je(on({...p,..._e(r),activeSnapPoint:T,fadeFromIndex:$,open:y}));function x(b){if(y.value!==void 0){p.emitOpenChange(b);return}b?(D.value=!0,A.value=b):o()}return e({open:A}),(b,l)=>(te(),ae(E(Fe),{open:E(A),modal:E(P),"onUpdate:open":x},{default:me(()=>[ge(b.$slots,"default",{open:E(A)})]),_:3},8,["open","modal"]))}}),sn=ne({__name:"DrawerOverlay",setup(n){const{overlayRef:e,snapPoints:u,isVisible:r,isOpen:t,shouldFade:$}=be(),y=F(()=>{var T;return u&&(((T=u.value)==null?void 0:T.length)??0)>0});return(T,p)=>(te(),ae(E(Me),{ref_key:"overlayRef",ref:e,"vaul-drawer-visible":E(r)?"true":"false","vaul-overlay":"","vaul-snap-points":E(t)&&y.value?"true":"false","vaul-snap-points-overlay":E(t)&&E($)?"true":"false"},null,8,["vaul-drawer-visible","vaul-snap-points","vaul-snap-points-overlay"]))}}),dn=ne({__name:"DrawerContent",setup(n){const{open:e,isOpen:u,isVisible:r,snapPointsOffset:t,drawerRef:$,onPress:y,onDrag:T,onRelease:p,modal:o,emitOpenChange:D,dismissible:P,keyboardIsOpen:A,closeDrawer:x}=be(),b=F(()=>t.value&&t.value.length>0?`${t.value[0]}px`:"0");function l(i){if(!o.value||i.defaultPrevented){i.preventDefault();return}A.value&&(A.value=!1),i.preventDefault(),P.value&&D(!1),!(!P.value||e.value!==void 0)&&x()}return z(u,i=>{i&&setTimeout(()=>{r.value=!0},1)},{immediate:!0}),(i,s)=>(te(),ae(E(Ue),{ref_key:"drawerRef",ref:$,"vaul-drawer":"","vaul-drawer-visible":E(r)?"true":"false",style:We({"--snap-point-height":b.value}),onPointerdown:E(y),onPointermove:E(T),onPointerup:E(p),onPointerDownOutside:l,onEscapeKeyDown:s[0]||(s[0]=g=>{E(P)||g.preventDefault()})},{default:me(()=>[ge(i.$slots,"default")]),_:3},8,["vaul-drawer-visible","style","onPointerdown","onPointermove","onPointerup"]))}});export{sn as d,dn as f,un as r};
