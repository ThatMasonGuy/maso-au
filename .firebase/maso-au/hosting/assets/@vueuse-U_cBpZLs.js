import{f as S,p as V,i as E,r as L,w as x,n as N,c as O}from"./@vue-BSHE2yuK.js";const s=new WeakMap,P=(e,n)=>{var i;const t=(i=S())==null?void 0:i.proxy;if(t==null)throw new Error("provideLocal must be called in setup");s.has(t)||s.set(t,Object.create(null));const c=s.get(t);c[e]=n,V(e,n)},J=(...e)=>{var n;const i=e[0],t=(n=S())==null?void 0:n.proxy;if(t==null)throw new Error("injectLocal must be called in setup");return s.has(t)&&i in s.get(t)?s.get(t)[i]:E(...e)};function F(e,n){const i=Symbol(e.name||"InjectionState"),t=void 0;return[(...r)=>{const l=e(...r);return P(i,l),l},()=>J(i,t)]}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const M=e=>typeof e<"u";function W(e){return JSON.parse(JSON.stringify(e))}function G(e,n,i,t={}){var c,p,r;const{clone:l=!1,passive:y=!1,eventName:_,deep:m=!1,defaultValue:I,shouldEmit:g}=t,a=S(),b=i||(a==null?void 0:a.emit)||((c=a==null?void 0:a.$emit)==null?void 0:c.bind(a))||((r=(p=a==null?void 0:a.proxy)==null?void 0:p.$emit)==null?void 0:r.bind(a==null?void 0:a.proxy));let u=_;u=u||`update:${n.toString()}`;const j=o=>l?typeof l=="function"?l(o):W(o):o,h=()=>M(e[n])?j(e[n]):I,w=o=>{g?g(o)&&b(u,o):b(u,o)};if(y){const o=h(),v=L(o);let d=!1;return x(()=>e[n],f=>{d||(d=!0,v.value=j(f),N(()=>d=!1))}),x(v,f=>{!d&&(f!==e[n]||m)&&w(f)},{deep:m}),v}else return O({get(){return h()},set(o){w(o)}})}export{F as c,G as u};
