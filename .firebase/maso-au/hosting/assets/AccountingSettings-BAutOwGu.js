import{r as V,c as E,m as G,aj as L,b as p,d as g,J as e,e as i,L as y,E as a,u as t,M as n,N as h,K as T,Q as N}from"./@vue-Cc5W6W03.js";import{F as v}from"./vue-sonner-tOpOM8Nc.js";import{u as C}from"./vuex-F4EPD-zj.js";import{_ as F}from"./AccountingSidebar-BbxZfPyK.js";import{c as x,_ as S,a as k,b as U}from"./CardContent-cdWgGs_w.js";import{a as u,d as $,b as d,c as A}from"./index-B_BK-3TZ.js";import{_ as j}from"./Textarea-CgeUAiZa.js";import{d as J,_ as M,a as I,b as Y,c as f}from"./SelectScrollDownButton-DKQIfbde.js";import{_ as Z,a as D,b as w,c as q}from"./TabsContent-Ca-0wMpq.js";import{b as K,_ as O,a as Q}from"./TooltipTrigger-CQaA16an.js";import"./radix-vue-g1r_MIx6.js";import"./@internationalized-D5LszBdy.js";import"./@swc-BOtJyCjG.js";import"./@floating-ui-rhRhKn_Q.js";import"./@heroicons-D7NO6Ex3.js";import"./class-variance-authority-Bb4qSo10.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-3VKOpVsw.js";import"./vue-router-Yx5yAxkf.js";import"./firebase-wUg9X9TS.js";import"./@firebase-7dTA5crF.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./@unovis-B91CR5fh.js";import"./@emotion-Dz_S_Xyw.js";import"./stylis-YPZU7XtI.js";import"./d3-transition-fhQpLGwb.js";import"./d3-dispatch-kxCwF96_.js";import"./d3-timer-DdKHrDhs.js";import"./d3-interpolate-DY0Cqdkz.js";import"./d3-color-Ceo1QMNe.js";import"./d3-selection-DSeOx27A.js";import"./d3-ease-Ox4sgw_u.js";import"./d3-interpolate-path-CTc7ZuM7.js";import"./striptags-PW3Qp06w.js";import"./@excalidraw-_WJHnpoj.js";import"./react-D1sI5Brr.js";import"./react-dom-9hUPJye5.js";import"./scheduler-CzFDRTuY.js";import"./to-px-DReLD3CO.js";import"./parse-unit-3UrBcP19.js";import"./d3-array-BJvpcdQ_.js";import"./@juggle-C8OzoCMD.js";import"./d3-axis-Cf4shvhW.js";import"./d3-scale-A6k9qkjg.js";import"./internmap-BkD7Hj8s.js";import"./d3-format-CzD4bSOQ.js";import"./d3-time-format-COsUQkot.js";import"./d3-time-B8hJ2rEE.js";import"./d3-shape-D7Hvm6M3.js";import"./d3-path-CimkQT29.js";import"./throttle-debounce-BnOnwhtV.js";import"./embla-carousel-vue-Dcvag-wm.js";import"./embla-carousel-reactive-utils-DkegjUUZ.js";import"./embla-carousel-QtEXB4oT.js";import"./@vueuse-CclTXppY.js";import"./embla-carousel-autoplay-0OO14Ffu.js";import"./@radix-icons-Ce5A0lVI.js";import"./vuex-persistedstate-D4njCX8q.js";import"./maska-Cp-LWreF.js";const z={class:"bg-gray-100 min-h-screen flex ml-16"},H={class:"flex-1 p-8"},W=i("h1",{class:"text-3xl font-bold mb-8"},"Accounting Settings",-1),X={key:0,class:"flex justify-center items-center h-64"},ee=i("div",{class:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"},null,-1),te=[ee],ae={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},se=i("strong",{class:"font-bold"},"Error!",-1),le={class:"block sm:inline"},oe={key:2},ne={class:"flex items-center space-x-2"},ie={class:"grid grid-cols-3 w-full items-center gap-2"},ue={class:"col-span-2"},re={class:"flex justify-between w-full"},de={class:"flex items-center space-x-2"},ce={class:"pt-4"},me={class:"flex items-center space-x-4"},fe=["src"],pe={class:"space-y-2"},ge={class:"pt-4"},xt={__name:"AccountingSettings",setup(ve){const _=V(!0),b=V(null),m=C(),s=E({get:()=>m.state.accountingSettings,set:r=>m.commit("SET_ACCOUNTING_SETTINGS",r)});G(async()=>{try{await m.dispatch("fetchAccountingSettings"),_.value=!1}catch(r){b.value="Failed to load settings. Please try again later.",console.error("Error fetching settings:",r),_.value=!1}});const B=async()=>{try{await m.dispatch("updateAccountingSettings",{general:s.value.general}),v.success("General settings saved successfully")}catch(r){console.error("Error saving general settings:",r),v.error("Failed to save general settings")}},P=async()=>{try{await m.dispatch("updateAccountingSettings",{account:s.value.account}),v.success("Account settings saved successfully")}catch(r){console.error("Error saving account settings:",r),v.error("Failed to save account settings")}},R=async r=>{const l=r.target.files[0];if(l)try{const c=await m.dispatch("uploadLogo",l);s.value.account.businessLogo=c}catch(c){console.error("Error uploading logo:",c),v.error("Failed to upload logo")}};return(r,l)=>{const c=L("maska");return p(),g("div",z,[e(F,{class:"shadow-2xl"}),i("div",H,[W,_.value?(p(),g("div",X,te)):b.value?(p(),g("div",ae,[se,i("span",le,y(b.value),1)])):(p(),g("div",oe,[e(t(q),{defaultValue:"general",class:"w-full"},{default:a(()=>[e(t(Z),null,{default:a(()=>[e(t(D),{value:"general"},{default:a(()=>[n("General Settings")]),_:1}),e(t(D),{value:"account"},{default:a(()=>[n("Account Settings")]),_:1})]),_:1}),e(t(w),{value:"general"},{default:a(()=>[e(t(x),{class:"bg-white shadow-md"},{default:a(()=>[e(t(S),null,{default:a(()=>[e(t(k),null,{default:a(()=>[n("General Settings")]),_:1})]),_:1}),e(t(U),null,{default:a(()=>[i("form",{onSubmit:h(B,["prevent"]),class:"space-y-4"},[i("div",null,[e(t(u),{for:"currency"},{default:a(()=>[n("Default Currency")]),_:1}),e(t(J),{modelValue:s.value.general.currency,"onUpdate:modelValue":l[0]||(l[0]=o=>s.value.general.currency=o)},{default:a(()=>[e(t(M),{id:"currency"},{default:a(()=>[e(t(I),{placeholder:"Select currency"})]),_:1}),e(t(Y),null,{default:a(()=>[e(t(f),{value:"AUD"},{default:a(()=>[n("AUD - Australian Dollar")]),_:1}),e(t(f),{value:"NZD"},{default:a(()=>[n("NZD - New Zealand Dollar")]),_:1}),e(t(f),{value:"USD"},{default:a(()=>[n("USD - United States Dollar")]),_:1}),e(t(f),{value:"EUR"},{default:a(()=>[n("EUR - Euro")]),_:1}),e(t(f),{value:"GBP"},{default:a(()=>[n("GBP - British Pound")]),_:1}),e(t(f),{value:"JPY"},{default:a(()=>[n("JPY - Japanese Yen")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",ne,[e(t($),{id:"gstRegistered",modelValue:s.value.general.gstRegistered,"onUpdate:modelValue":l[1]||(l[1]=o=>s.value.general.gstRegistered=o),checked:s.value.general.gstRegistered,"onUpdate:checked":l[2]||(l[2]=o=>s.value.general.gstRegistered=!s.value.general.gstRegistered)},null,8,["modelValue","checked"]),e(t(u),{for:"gstRegistered"},{default:a(()=>[n("Are you set up for GST?")]),_:1})]),i("div",null,[e(t(u),{for:"taxRate"},{default:a(()=>[n("Default GST Rate (%)")]),_:1}),e(t(d),{disabled:!s.value.general.gstRegistered,type:"number",id:"taxRate",modelValue:s.value.general.taxRate,"onUpdate:modelValue":l[3]||(l[3]=o=>s.value.general.taxRate=o),min:"0",max:"100",step:"0.1"},null,8,["disabled","modelValue"])]),i("div",ie,[i("div",null,[e(t(u),{class:"ml-1",for:"invoicePrefix"},{default:a(()=>[n("Invoice Prefix")]),_:1}),e(t(d),{type:"text",id:"invoicePrefix",modelValue:s.value.general.invoicePrefix,"onUpdate:modelValue":l[4]||(l[4]=o=>s.value.general.invoicePrefix=o)},null,8,["modelValue"])]),i("div",ue,[i("div",re,[e(t(u),{class:"ml-1",for:"startingNumber"},{default:a(()=>[n("Starting Number")]),_:1}),e(t(u),{class:"ml-1 font-normal text-gray-600 text-sm",for:"startingNumber"},{default:a(()=>[n("Most recent invoice: "+y(s.value.general.startingNumber),1)]),_:1})]),e(t(d),{type:"number",id:"startingNumber",modelValue:s.value.general.startingNumber,"onUpdate:modelValue":l[5]||(l[5]=o=>s.value.general.startingNumber=o)},null,8,["modelValue"])])]),i("div",de,[e(t(K),null,{default:a(()=>[e(t(O),{"as-child":""},{default:a(()=>[e(t($),{id:"receiveNotifications",disabled:"",modelValue:s.value.general.receiveNotifications,"onUpdate:modelValue":l[6]||(l[6]=o=>s.value.general.receiveNotifications=o),checked:s.value.general.receiveNotifications,"onUpdate:checked":l[7]||(l[7]=o=>s.value.general.receiveNotifications=!s.value.general.receiveNotifications)},null,8,["modelValue","checked"]),e(t(u),{for:"receiveNotifications"},{default:a(()=>[n("Receive Notifications")]),_:1})]),_:1}),e(t(Q),null,{default:a(()=>[n(" Notification functionality coming soon! ")]),_:1})]),_:1})]),i("div",ce,[e(t(A),{type:"submit"},{default:a(()=>[n("Save General Settings")]),_:1})])],32)]),_:1})]),_:1})]),_:1}),e(t(w),{value:"account"},{default:a(()=>[e(t(x),{class:"bg-white shadow-md"},{default:a(()=>[e(t(S),null,{default:a(()=>[e(t(k),null,{default:a(()=>[n("Account Settings")]),_:1})]),_:1}),e(t(U),null,{default:a(()=>[i("form",{onSubmit:h(P,["prevent"]),class:"space-y-4"},[i("div",null,[e(t(u),{for:"businessName"},{default:a(()=>[n("Business Name")]),_:1}),e(t(d),{id:"businessName",modelValue:s.value.account.businessName,"onUpdate:modelValue":l[8]||(l[8]=o=>s.value.account.businessName=o),required:""},null,8,["modelValue"])]),i("div",null,[e(t(u),{for:"businessLogo"},{default:a(()=>[n("Business Logo")]),_:1}),i("div",me,[e(t(d),{id:"businessLogo",type:"file",onChange:R,accept:"image/*"}),s.value.account.businessLogo?(p(),g("img",{key:0,src:s.value.account.businessLogo,alt:"Business Logo",class:"h-16 w-16 object-contain"},null,8,fe)):T("v-if",!0)])]),i("div",null,[e(t(u),{for:"businessAddress"},{default:a(()=>[n("Business Address")]),_:1}),e(t(j),{id:"businessAddress",modelValue:s.value.account.businessAddress,"onUpdate:modelValue":l[9]||(l[9]=o=>s.value.account.businessAddress=o)},null,8,["modelValue"])]),i("div",null,[e(t(u),{for:"businessPhone"},{default:a(()=>[n("Business Phone Number")]),_:1}),N(e(t(d),{"data-maska":"#### ### ###",id:"businessPhone",modelValue:s.value.account.businessPhone,"onUpdate:modelValue":l[10]||(l[10]=o=>s.value.account.businessPhone=o),type:"tel"},null,8,["modelValue"]),[[c]])]),i("div",null,[e(t(u),{for:"businessNumber"},{default:a(()=>[n("ABN/Business Number")]),_:1}),e(t(d),{id:"businessNumber",modelValue:s.value.account.businessNumber,"onUpdate:modelValue":l[11]||(l[11]=o=>s.value.account.businessNumber=o)},null,8,["modelValue"])]),i("div",null,[e(t(u),null,{default:a(()=>[n("Business Bank Details")]),_:1}),i("div",pe,[e(t(d),{modelValue:s.value.account.bankDetails.accountName,"onUpdate:modelValue":l[12]||(l[12]=o=>s.value.account.bankDetails.accountName=o),placeholder:"Account Name"},null,8,["modelValue"]),N(e(t(d),{"data-maska":"##########",id:"accountNumber",modelValue:s.value.account.bankDetails.accountNumber,"onUpdate:modelValue":l[13]||(l[13]=o=>s.value.account.bankDetails.accountNumber=o),placeholder:"Account Number"},null,8,["modelValue"]),[[c]]),N(e(t(d),{"data-maska":"###-###",id:"bsbNumber",modelValue:s.value.account.bankDetails.bsbNumber,"onUpdate:modelValue":l[14]||(l[14]=o=>s.value.account.bankDetails.bsbNumber=o),placeholder:"BSB Number"},null,8,["modelValue"]),[[c]])])]),i("div",ge,[e(t(A),{type:"submit"},{default:a(()=>[n("Save Account Settings")]),_:1})])],32)]),_:1})]),_:1})]),_:1})]),_:1})]))])])}}};export{xt as default};
