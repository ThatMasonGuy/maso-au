import{_ as ue,f as D,n as de,a as p,b as h,d as Y,c as P,h as Q,i as ce}from"./index-fh3STtDl.js";import{a as me,e as pe,j as X,q as fe,B as Z,H as _e,C as ge,D as be,k as ve}from"./@firebase-CBgXa-9_.js";import{r as w,c as S,b as d,d as v,e as s,J as t,u as e,L as V,N as C,E as o,M as r,K as B,ad as ye,ae as he,D as q,q as U,H as xe,I as Ne,G as O,m as we,P as I,T as R,a8 as G}from"./@vue-DsGlF1-j.js";import{a as $e}from"./vue-router-CrvMPvpV.js";import{_ as Ve}from"./Textarea-DOtnrcQZ.js";import{_ as ke,a as Se,b as qe,c as L,d as Be}from"./SelectScrollDownButton-BK2d6S2D.js";import{F as H}from"./vue-sonner-B2EpXGAv.js";import{u as De}from"./vuex--kc_uza-.js";import{_ as Pe}from"./AccountingSidebar-pKQpwrKS.js";import{a as F,_ as T,b as M,c as z}from"./CardContent-tDbV450H.js";import{x as ee,a4 as Ue,_ as te,a5 as Ae,a6 as Ce,a7 as Ie,a8 as Re}from"./radix-vue-6Z8x3TUN.js";import{d as Le}from"./@heroicons-DH5_RU0z.js";import"./class-variance-authority-Bb4qSo10.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-3VKOpVsw.js";import"./firebase-BQhzl84B.js";import"./@unovis-B16_51NZ.js";import"./@emotion-Dz_S_Xyw.js";import"./stylis-YPZU7XtI.js";import"./d3-transition-fhQpLGwb.js";import"./d3-dispatch-kxCwF96_.js";import"./d3-timer-DdKHrDhs.js";import"./d3-interpolate-DY0Cqdkz.js";import"./d3-color-Ceo1QMNe.js";import"./d3-selection-DSeOx27A.js";import"./d3-ease-Ox4sgw_u.js";import"./d3-interpolate-path-CTc7ZuM7.js";import"./striptags-CDKagow6.js";import"./@vueup-qMjKR5Ws.js";import"./quill-delta-COPIFlMW.js";import"./fast-diff-DNDSwfiB.js";import"./lodash.clonedeep-CrPEM4m0.js";import"./lodash.isequal-CemT60YI.js";import"./to-px-DReLD3CO.js";import"./parse-unit-3UrBcP19.js";import"./d3-array-BJvpcdQ_.js";import"./@juggle-C8OzoCMD.js";import"./d3-axis-Cf4shvhW.js";import"./d3-scale-A6k9qkjg.js";import"./internmap-BkD7Hj8s.js";import"./d3-format-CzD4bSOQ.js";import"./d3-time-format-COsUQkot.js";import"./d3-time-B8hJ2rEE.js";import"./d3-shape-D7Hvm6M3.js";import"./d3-path-CimkQT29.js";import"./throttle-debounce-BnOnwhtV.js";import"./embla-carousel-vue-CXHqejTr.js";import"./embla-carousel-reactive-utils-DkegjUUZ.js";import"./embla-carousel-QtEXB4oT.js";import"./@vueuse-H75eWtDf.js";import"./embla-carousel-autoplay-0OO14Ffu.js";import"./@radix-icons-C7iqcNif.js";import"./vuex-persistedstate-D4njCX8q.js";import"./maska-Cp-LWreF.js";import"./@internationalized-D5LszBdy.js";import"./@swc-BOtJyCjG.js";import"./@floating-ui-B6PpBHZy.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./TooltipTrigger-Bqh97bnl.js";const c=f=>(ye("data-v-bb55923c"),f=f(),he(),f),Fe={class:"bg-gray-100 min-h-screen p-8"},Te={class:"max-w-3xl mx-auto h-full my-auto bg-white shadow-lg rounded-lg p-8"},Me=c(()=>s("h1",{class:"text-3xl font-bold mb-6 text-center text-blue-600"},"Welcome to Your Accounting Setup!",-1)),ze={class:"mb-6"},Ee={class:"text-center mt-2 text-sm text-gray-600"},Oe={key:0},je=c(()=>s("h2",{class:"text-2xl font-semibold mb-6 text-blue-800"},"Step 1: General Information",-1)),We=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Choose your preferred currency to keep your accounts consistent.",-1)),Ye=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Enter a prefix for your invoices to help with organization and tracking.",-1)),Ze=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Start with a unique number for easy tracking.",-1)),Ge=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Enter the tax rate for your region.",-1)),He={class:"flex items-center space-x-2"},Ke={class:"flex items-center space-x-2"},Je={key:1},Qe=c(()=>s("h2",{class:"text-2xl font-semibold mb-6 text-blue-800"},"Step 2: Account Details",-1)),Xe=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Let's get your business identity set up!",-1)),et={class:"flex items-center space-x-4"},tt=["src"],st=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Your logo helps make your brand recognizable.",-1)),ot=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"So customers can reach you easily.",-1)),at=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Your Australian Business Number for official records.",-1)),lt={key:2},nt=c(()=>s("h2",{class:"text-2xl font-semibold mb-6 text-blue-800"},"Step 3: Bank Details",-1)),rt=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"We'll keep your banking details secure.",-1)),it=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Your account number remains confidential.",-1)),ut=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"Who handles your finances?",-1)),dt=c(()=>s("p",{class:"text-sm text-gray-600 mt-1"},"The BSB identifies your bank.",-1)),ct={__name:"AccountingSetupWalkthrough",setup(f){const _=$e(),g=De(),x=me(),b=pe(),m=w(1),N=w(null),$=w(null),u=w({currency:"AUD",invoicePrefix:"INV-",startingNumber:"00001",taxRate:10,gstRegistered:!0,receiveNotifications:!1}),l=w({businessName:"",businessLogo:"",businessAddress:"",businessPhone:"",businessNumber:"",bankDetails:{accountName:"",accountNumber:"",bankingInstitute:"",bsbNumber:""}}),y=()=>{m.value++},i=k=>{const a=k.target.files[0];if(a){$.value=a;const n=new FileReader;n.onload=j=>{N.value=j.target.result},n.readAsDataURL(a)}},se=async()=>{if($.value){const a=`users/user/${D.currentUser.uid}/accounting/myLogo/`,n=Z(b,a),le=(await _e(n)).items.map(ie=>ie.name);let A="logo1",W=1;for(;le.includes(A);)W+=1,A=`logo${W}`;const ne=Z(b,`${a}${A}`),re=await ge(ne,$.value);return await be(re.ref)}return null},oe=async()=>{try{const k=D.currentUser.uid,a=await se();a&&(l.value.businessLogo=a);const n=X(x,`users/${k}/accounting/settings`);await fe(n,{general:u.value,account:l.value}),H.success("Setup completed successfully!"),_.push("/auth/accounting/dashboard")}catch(k){console.error("Error saving settings:",k),H.error("Failed to complete setup. Please try again.")}},ae=S(()=>m.value/3*100);return D.currentUser&&g.dispatch("fetchAccountingSettings"),(k,a)=>(d(),v("div",Fe,[s("div",Te,[Me,s("div",ze,[t(e(de),{value:ae.value,class:"w-full"},null,8,["value"]),s("p",Ee,"Step "+V(m.value)+" of 3",1)]),m.value===1?(d(),v("div",Oe,[je,s("form",{onSubmit:C(y,["prevent"]),class:"space-y-6"},[s("div",null,[t(e(p),{for:"currency"},{default:o(()=>[r("Currency")]),_:1}),t(e(Be),{modelValue:u.value.currency,"onUpdate:modelValue":a[0]||(a[0]=n=>u.value.currency=n)},{default:o(()=>[t(e(ke),{id:"currency"},{default:o(()=>[t(e(Se),{placeholder:"Choose your preferred currency"})]),_:1}),t(e(qe),null,{default:o(()=>[t(e(L),{value:"AUD"},{default:o(()=>[r("AUD - Australian Dollar")]),_:1}),t(e(L),{value:"NZD"},{default:o(()=>[r("NZD - New Zealand Dollar")]),_:1}),t(e(L),{value:"USD"},{default:o(()=>[r("USD - United States Dollar")]),_:1})]),_:1})]),_:1},8,["modelValue"]),We]),s("div",null,[t(e(p),{for:"invoicePrefix"},{default:o(()=>[r("Invoice Prefix")]),_:1}),t(e(h),{id:"invoicePrefix",modelValue:u.value.invoicePrefix,"onUpdate:modelValue":a[1]||(a[1]=n=>u.value.invoicePrefix=n),placeholder:"e.g., INV-"},null,8,["modelValue"]),Ye]),s("div",null,[t(e(p),{for:"startingNumber"},{default:o(()=>[r("Invoice Starting Number")]),_:1}),t(e(h),{id:"startingNumber",modelValue:u.value.startingNumber,"onUpdate:modelValue":a[2]||(a[2]=n=>u.value.startingNumber=n),type:"number",min:"1"},null,8,["modelValue"]),Ze]),s("div",null,[t(e(p),{for:"taxRate"},{default:o(()=>[r("Tax Rate (%)")]),_:1}),t(e(h),{id:"taxRate",modelValue:u.value.taxRate,"onUpdate:modelValue":a[3]||(a[3]=n=>u.value.taxRate=n),type:"number",min:"0",max:"100",step:"0.1"},null,8,["modelValue"]),Ge]),s("div",He,[t(e(Y),{id:"gstRegistered",modelValue:u.value.gstRegistered,"onUpdate:modelValue":a[4]||(a[4]=n=>u.value.gstRegistered=n)},null,8,["modelValue"]),t(e(p),{for:"gstRegistered"},{default:o(()=>[r("GST Registered")]),_:1})]),s("div",Ke,[t(e(Y),{id:"receiveNotifications",modelValue:u.value.receiveNotifications,"onUpdate:modelValue":a[5]||(a[5]=n=>u.value.receiveNotifications=n)},null,8,["modelValue"]),t(e(p),{for:"receiveNotifications"},{default:o(()=>[r("Receive Notifications")]),_:1})]),t(e(P),{type:"submit",class:"w-full"},{default:o(()=>[r("Next")]),_:1})],32)])):B("v-if",!0),m.value===2?(d(),v("div",Je,[Qe,s("form",{onSubmit:C(y,["prevent"]),class:"space-y-6"},[s("div",null,[t(e(p),{for:"businessName"},{default:o(()=>[r("Business Name")]),_:1}),t(e(h),{id:"businessName",modelValue:l.value.businessName,"onUpdate:modelValue":a[6]||(a[6]=n=>l.value.businessName=n),required:"",placeholder:"Your Business Name"},null,8,["modelValue"]),Xe]),s("div",null,[t(e(p),{for:"businessLogo"},{default:o(()=>[r("Business Logo")]),_:1}),s("div",et,[t(e(h),{id:"businessLogo",type:"file",onChange:i,accept:"image/*"}),N.value?(d(),v("img",{key:0,src:N.value,alt:"Logo Preview",class:"h-16 w-16 object-contain"},null,8,tt)):B("v-if",!0)]),st]),s("div",null,[t(e(p),{for:"businessAddress"},{default:o(()=>[r("Business Address")]),_:1}),t(e(Ve),{id:"businessAddress",modelValue:l.value.businessAddress,"onUpdate:modelValue":a[7]||(a[7]=n=>l.value.businessAddress=n),required:"",placeholder:"123 Business St, City, State, Postal Code"},null,8,["modelValue"])]),s("div",null,[t(e(p),{for:"businessPhone"},{default:o(()=>[r("Business Phone")]),_:1}),t(e(h),{id:"businessPhone",modelValue:l.value.businessPhone,"onUpdate:modelValue":a[8]||(a[8]=n=>l.value.businessPhone=n),type:"tel",required:"",placeholder:"e.g., (123) 456-7890"},null,8,["modelValue"]),ot]),s("div",null,[t(e(p),{for:"businessNumber"},{default:o(()=>[r("Business Number (ABN)")]),_:1}),t(e(h),{id:"businessNumber",modelValue:l.value.businessNumber,"onUpdate:modelValue":a[9]||(a[9]=n=>l.value.businessNumber=n),required:"",placeholder:"e.g., 12 345 678 901"},null,8,["modelValue"]),at]),t(e(P),{type:"submit",class:"w-full"},{default:o(()=>[r("Next")]),_:1})],32)])):B("v-if",!0),m.value===3?(d(),v("div",lt,[nt,s("form",{onSubmit:C(oe,["prevent"]),class:"space-y-6"},[s("div",null,[t(e(p),{for:"accountName"},{default:o(()=>[r("Account Name")]),_:1}),t(e(h),{id:"accountName",modelValue:l.value.bankDetails.accountName,"onUpdate:modelValue":a[10]||(a[10]=n=>l.value.bankDetails.accountName=n),required:"",placeholder:"Account Name"},null,8,["modelValue"]),rt]),s("div",null,[t(e(p),{for:"accountNumber"},{default:o(()=>[r("Account Number")]),_:1}),t(e(h),{id:"accountNumber",modelValue:l.value.bankDetails.accountNumber,"onUpdate:modelValue":a[11]||(a[11]=n=>l.value.bankDetails.accountNumber=n),required:"",placeholder:"Account Number"},null,8,["modelValue"]),it]),s("div",null,[t(e(p),{for:"bankingInstitute"},{default:o(()=>[r("Banking Institute")]),_:1}),t(e(h),{id:"bankingInstitute",modelValue:l.value.bankDetails.bankingInstitute,"onUpdate:modelValue":a[12]||(a[12]=n=>l.value.bankDetails.bankingInstitute=n),required:"",placeholder:"Bank Name"},null,8,["modelValue"]),ut]),s("div",null,[t(e(p),{for:"bsbNumber"},{default:o(()=>[r("BSB Number")]),_:1}),t(e(h),{id:"bsbNumber",modelValue:l.value.bankDetails.bsbNumber,"onUpdate:modelValue":a[13]||(a[13]=n=>l.value.bankDetails.bsbNumber=n),required:"",placeholder:"BSB Number"},null,8,["modelValue"]),dt]),t(e(P),{type:"submit",class:"w-full"},{default:o(()=>[r("Complete Setup")]),_:1})],32)])):B("v-if",!0)])]))}},mt=ue(ct,[["__scopeId","data-v-bb55923c"]]),pt={__name:"DropdownMenu",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(f,{emit:_}){const b=ee(f,_);return(m,N)=>(d(),q(e(Ue),xe(Ne(e(b))),{default:o(()=>[U(m.$slots,"default")]),_:3},16))}},ft={__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(f){const g=te(f);return(x,b)=>(d(),q(e(Ae),O({class:"outline-none"},e(g)),{default:o(()=>[U(x.$slots,"default")]),_:3},16))}},_t={__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(f,{emit:_}){const g=f,x=_,b=S(()=>{const{class:N,...$}=g;return $}),m=ee(b,x);return(N,$)=>(d(),q(e(Ie),null,{default:o(()=>[t(e(Ce),O(e(m),{class:e(Q)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",g.class)}),{default:o(()=>[U(N.$slots,"default")]),_:3},16,["class"])]),_:3}))}},E={__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},inset:{type:Boolean,required:!1}},setup(f){const _=f,g=S(()=>{const{class:b,...m}=_;return m}),x=te(g);return(b,m)=>(d(),q(e(Re),O(e(x),{class:e(Q)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",f.inset&&"pl-8",_.class)}),{default:o(()=>[U(b.$slots,"default")]),_:3},16,["class"]))}},gt={key:0,class:"flex justify-center items-center h-screen"},bt=s("div",{class:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"},null,-1),vt=[bt],yt={key:2,class:"bg-gray-100 min-h-screen flex ml-16"},ht={class:"flex-1 p-4 sm:p-8"},xt=s("h1",{class:"text-3xl font-bold mb-8"},"Accounting Dashboard",-1),Nt={class:"mb-8"},wt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},$t={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6"},Vt={class:"space-y-2"},kt={class:"space-y-2"},K=15230.45,J=7850.2,Cs={__name:"AccountingHome",setup(f){const _=w(!0),g=w(!1),x=S(()=>{const l=K-J;return[{title:"Total Income",value:u(K),colorClass:"text-green-600"},{title:"Total Expenses",value:u(J),colorClass:"text-red-600"},{title:"Net Profit",value:u(l),colorClass:"text-blue-600"}]}),b=w([{id:1,description:"Client Payment",amount:1500},{id:2,description:"Office Supplies",amount:-200},{id:3,description:"Freelance Work",amount:800},{id:4,description:"Utility Bill",amount:-150}]),m=S(()=>b.value.map(l=>({...l,formattedAmount:u(Math.abs(l.amount))}))),N=w([{id:1,client:"ABC Corp",amount:2500},{id:2,client:"XYZ Ltd",amount:1800},{id:3,client:"123 Industries",amount:3200}]),$=S(()=>N.value.map(l=>({...l,formattedAmount:u(l.amount)})));function u(l){return new Intl.NumberFormat("en-US",{style:"currency",currency:"AUD"}).format(l)}return we(async()=>{try{const l=D.currentUser.uid,y=X(ce,`users/${l}/accounting/settings`);(await ve(y)).exists()||(g.value=!0)}catch(l){console.error("Error checking accounting settings:",l)}finally{_.value=!1}}),(l,y)=>_.value?(d(),v("div",gt,vt)):g.value?(d(),q(mt,{key:1})):(d(),v("div",yt,[t(Pe,{class:"shadow-2xl"}),s("div",ht,[xt,B(" Forms Dropdown "),s("div",Nt,[t(e(pt),null,{default:o(()=>[t(e(ft),{asChild:""},{default:o(()=>[t(e(P),{variant:"outline"},{default:o(()=>[r("Create New Form "),t(e(Le),{class:"ml-2 h-4 w-4"})]),_:1})]),_:1}),t(e(_t),null,{default:o(()=>[t(e(E),{onClick:y[0]||(y[0]=i=>l.$router.push("/auth/accounting/quotes"))},{default:o(()=>[r(" Create Quote ")]),_:1}),t(e(E),{onClick:y[1]||(y[1]=i=>l.$router.push("/auth/accounting/invoices"))},{default:o(()=>[r(" Create Invoice ")]),_:1}),t(e(E),{onClick:y[2]||(y[2]=i=>l.$router.push("/auth/accounting/receipts"))},{default:o(()=>[r(" Create Receipt ")]),_:1})]),_:1})]),_:1})]),s("div",wt,[(d(!0),v(I,null,R(x.value,i=>(d(),q(e(z),{key:i.title,class:"bg-background shadow-md"},{default:o(()=>[t(e(T),null,{default:o(()=>[t(e(F),null,{default:o(()=>[r(V(i.title),1)]),_:2},1024)]),_:2},1024),t(e(M),null,{default:o(()=>[s("p",{class:G(["text-3xl font-bold",i.colorClass])},V(i.value),3)]),_:2},1024)]),_:2},1024))),128))]),s("div",$t,[t(e(z),{class:"bg-white shadow-md"},{default:o(()=>[t(e(T),null,{default:o(()=>[t(e(F),null,{default:o(()=>[r("Recent Transactions")]),_:1})]),_:1}),t(e(M),null,{default:o(()=>[s("ul",Vt,[(d(!0),v(I,null,R(m.value,i=>(d(),v("li",{key:i.id,class:"flex justify-between items-center"},[s("span",null,V(i.description),1),s("span",{class:G(i.amount>0?"text-green-600":"text-red-600")},V(i.amount>0?"+":"-")+V(i.formattedAmount),3)]))),128))])]),_:1})]),_:1}),t(e(z),{class:"bg-white shadow-md"},{default:o(()=>[t(e(T),null,{default:o(()=>[t(e(F),null,{default:o(()=>[r("Upcoming Invoices")]),_:1})]),_:1}),t(e(M),null,{default:o(()=>[s("ul",kt,[(d(!0),v(I,null,R($.value,i=>(d(),v("li",{key:i.id,class:"flex justify-between items-center"},[s("span",null,V(i.client),1),s("span",null,V(i.formattedAmount),1)]))),128))])]),_:1})]),_:1})])])]))}};export{Cs as default};
