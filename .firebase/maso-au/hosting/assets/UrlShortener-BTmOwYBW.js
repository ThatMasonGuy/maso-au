import{b as u,d as C,C as j,a5 as H,u as l,r as c,c as Y,e,H as o,B as r,I as p,S as $,a8 as M,n as O,O as i,A as w,Y as U,ac as R}from"./@vue-ByUPl4n3.js";import{c as G,i as F,b as J,d as b}from"./index-sf8yXSmJ.js";import{F as h}from"./vue-sonner-Bhtfw6Pm.js";import{p as W,h as V,T as L,j as K}from"./@firebase-COZMWGZ9.js";import{u as X}from"./vuex-BSA9amQ9.js";import{a as Z,b as ee,c as te,d as se,e as le,_ as ae}from"./DialogContent-BOYkSxpo.js";import{Q as q}from"./qrious-CzK3OedV.js";import{e as oe,f as D,g as re}from"./@heroicons-BtjQ6ynG.js";import"./radix-vue-B3IMiYbL.js";import"./@floating-ui-B1FmqQSQ.js";import"./class-variance-authority-Bb4qSo10.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-3VKOpVsw.js";import"./vue-router-CxJW1dty.js";import"./firebase-BBXXmy5H.js";import"./jspdf-CVWcoUId.js";import"./@babel-BsCcpEdk.js";import"./fflate-Cf-_J6lE.js";import"./embla-carousel-vue-B2nc9nZl.js";import"./embla-carousel-reactive-utils-DkegjUUZ.js";import"./embla-carousel-CvuiBM5S.js";import"./@vueuse-CXGCKITw.js";import"./embla-carousel-autoplay-0OO14Ffu.js";import"./@radix-icons-Zs8Jklf2.js";import"./vuex-persistedstate-D4njCX8q.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./core-js-D-YEncsT.js";const ne={__name:"DialogFooter",props:{class:{type:null,required:!1}},setup(S){const _=S;return(n,d)=>(u(),C("div",{class:H(l(G)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",_.class))},[j(n.$slots,"default")],2))}},de={class:"flex flex-col items-center p-6 bg-gray-900 pt-[--header-height] min-h-[--adjusted-height] text-white"},ce=e("h1",{class:"text-4xl font-bold text-blue-400 mt-4 mb-6"},"Short URL",-1),ie={class:"flex flex-col lg:flex-row items-start w-full max-w-5xl space-y-6 lg:space-y-0 lg:space-x-6"},ue={class:"bg-gray-800 shadow-lg rounded-lg p-8 w-full lg:w-2/3"},me=e("h2",{class:"text-2xl font-bold mb-4"},"Paste the URL to be shortened",-1),pe={class:"flex space-x-4 mb-4"},he=e("p",{class:"text-gray-400"},"ShortURL is a free tool to shorten URLs and generate short links. URL shortener allows to create a shortened link making it easy to share.",-1),ge={key:0,class:"mt-4 bg-gray-700 p-4 rounded-lg flex items-center"},fe={class:"flex-grow"},be={class:"bg-gray-800 shadow-lg rounded-lg p-8 w-full lg:w-1/3 flex flex-col items-center"},xe=e("h2",{class:"text-2xl font-bold mb-4"},"QR Code",-1),ve={ref:"qrCanvas",class:"h-40 w-40 bg-gray-700 border border-gray-600 rounded-lg mb-4"},ye={class:"flex space-x-2"},we={class:"flex flex-col space-y-4"},_e=e("label",{class:"block text-gray-300"},"Background Color",-1),ke=e("label",{class:"block text-gray-300"},"Foreground Color",-1),Ue=e("label",{class:"block text-gray-300"},"Padding",-1),Re={class:"block text-gray-300 mt-1"},Le=M('<div class="w-full max-w-5xl mt-6"><h2 class="text-2xl font-bold mb-4">Simple and fast URL shortener!</h2><p class="text-gray-400 mb-4"> ShortURL allows to shorten long links from <a href="#" class="text-blue-400">Instagram</a>, <a href="#" class="text-blue-400">Facebook</a>, <a href="#" class="text-blue-400">YouTube</a>, <a href="#" class="text-blue-400">Twitter</a>, <a href="#" class="text-blue-400">LinkedIn</a>, <a href="#" class="text-blue-400">WhatsApp</a>, <a href="#" class="text-blue-400">TikTok</a>, blogs and sites. Just paste the long URL and click the Shorten URL button. On the next page, copy the shortened URL and share it on sites, chat and emails. After shortening the URL, check <a href="#" class="text-blue-400">how many clicks it received</a>. </p><h2 class="text-2xl font-bold mb-4">Shorten, share and track</h2><p class="text-gray-400 mb-4"> Your shortened URLs can be used in publications, documents, advertisements, blogs, forums, instant messages, and other locations. Track statistics for your business and projects by monitoring the number of hits from your URL with our click counter. </p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div class="flex flex-col items-center bg-gray-800 shadow-lg rounded-lg p-6"><span class="text-2xl mb-2">üëç</span><h3 class="text-lg font-bold mb-2">Easy</h3><p class="text-gray-400 text-center">ShortURL is easy and fast, enter the long link to get your shortened link.</p></div><div class="flex flex-col items-center bg-gray-800 shadow-lg rounded-lg p-6"><span class="text-2xl mb-2">üîó</span><h3 class="text-lg font-bold mb-2">Shortened</h3><p class="text-gray-400 text-center">Use any link, no matter what size, ShortURL always shortens. </p></div><div class="flex flex-col items-center bg-gray-800 shadow-lg rounded-lg p-6"><span class="text-2xl mb-2">üîí</span><h3 class="text-lg font-bold mb-2">Secure</h3><p class="text-gray-400 text-center">It is fast and secure, our service has HTTPS protocol and data encryption.</p></div><div class="flex flex-col items-center bg-gray-800 shadow-lg rounded-lg p-6"><span class="text-2xl mb-2">üìä</span><h3 class="text-lg font-bold mb-2">Statistics</h3><p class="text-gray-400 text-center">Check the number of clicks that your shortened URL received. </p></div><div class="flex flex-col items-center bg-gray-800 shadow-lg rounded-lg p-6"><span class="text-2xl mb-2">üîç</span><h3 class="text-lg font-bold mb-2">Reliable</h3><p class="text-gray-400 text-center">All links that try to disseminate spam, viruses and malware are deleted.</p></div><div class="flex flex-col items-center bg-gray-800 shadow-lg rounded-lg p-6"><span class="text-2xl mb-2">üì±</span><h3 class="text-lg font-bold mb-2">Devices</h3><p class="text-gray-400 text-center">Compatible with smartphones, tablets and desktop.</p></div></div></div>',1),tt={__name:"UrlShortener",setup(S){const _=X(),n=c(""),d=c(""),B=c([]),x=c(!1),m=c(!1),T=c(null),v=c("#FFFFFF"),y=c("#000000"),g=c(20),k=Y(()=>_.getters.user),E=()=>{const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let s=0;s<5;s++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},z=async a=>{let t,s;do{t=E();const f=V(a,"shortenedUrls",t);s=await K(f)}while(s.exists());return t},Q=a=>new Promise((t,s)=>setTimeout(()=>s(new Error("Request timed out")),a)),A=async()=>{if(m.value=!0,!k.value){h.error("You need to be logged in to shorten URLs"),m.value=!1;return}if(!/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w\.-]*)*\/?(\?[^\s]*)?$/.test(n.value)){console.log("URL validation failed for:",n.value),console.log("Validation failed because the URL does not match the expected format."),h.error("Please enter a valid URL"),m.value=!1;return}const t=await z(F),s=`https://maso.au/r/${t}`;try{await Promise.race([W(V(F,"shortenedUrls",t),{originalUrl:n.value,writtenBy:k.value.uid,writtenByUsername:k.value.userName,created:L.now(),updated:L.now(),viewCount:0,viewTimestamps:[L.now()]}),Q(5e3)]),d.value=s,B.value.push({original:n.value,shortened:s}),n.value="",O(()=>{const f=document.querySelector("canvas");T.value=new q({element:f,value:s,size:240,background:v.value,foreground:y.value,level:"H",padding:g.value})}),h.success("URL successfully shortened")}catch(f){console.error("Error shortening URL:",f),h.error("Failed to shorten URL")}finally{m.value=!1}},I=a=>{navigator.clipboard.writeText(a).then(()=>{h.success("URL copied to clipboard")},()=>{h.error("Failed to copy URL")})},N=()=>{x.value=!0;const a=document.createElement("a");a.href=document.querySelector("canvas").toDataURL(),a.download="qr-code.png",a.click(),x.value=!1},P=()=>{const a=document.querySelector("canvas");T.value=new q({element:a,value:d.value,size:240,background:v.value,foreground:y.value,level:"H",padding:g.value})};return(a,t)=>(u(),C("div",de,[ce,e("div",ie,[e("div",ue,[me,e("div",pe,[o(l(J),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),type:"text",placeholder:"Enter URL...",class:"flex-grow p-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none"},null,8,["modelValue"]),o(l(b),{onClick:A,class:"px-4 py-2 bg-blue-600 text-white text-md rounded-lg hover:bg-blue-700"},{default:r(()=>[i(" Shorten URL "),m.value?p("v-if",!0):(u(),w(l(oe),{key:0,class:"h-4 w-4 ml-2"})),m.value?(u(),w(l(D),{key:1,class:"h-4 w-4 ml-2 animate-spin"})):p("v-if",!0)]),_:1})]),he,p(" Display shortened URL and Copy button "),d.value?(u(),C("div",ge,[e("span",fe,$(d.value),1),o(l(b),{onClick:t[1]||(t[1]=s=>I(d.value)),class:"ml-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},{default:r(()=>[i("Copy")]),_:1})])):p("v-if",!0)]),e("div",be,[xe,e("canvas",ve,null,512),e("div",ye,[o(l(b),{disabled:!d.value,onClick:N,class:"px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600"},{default:r(()=>[i(" Save "),x.value?(u(),w(l(D),{key:0,class:"h-4 w-4 ml-2 animate-spin"})):p("v-if",!0),x.value?p("v-if",!0):(u(),w(l(re),{key:1,class:"h-4 w-4 ml-2"}))]),_:1},8,["disabled"]),o(l(ae),null,{default:r(()=>[o(l(Z),{disabled:!d.value},{default:r(()=>[o(l(b),{disabled:!d.value,class:"px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600"},{default:r(()=>[i("Edit")]),_:1},8,["disabled"])]),_:1},8,["disabled"]),o(l(ee),null,{default:r(()=>[o(l(te),null,{default:r(()=>[o(l(se),null,{default:r(()=>[i("Edit QR Code")]),_:1}),o(l(le),null,{default:r(()=>[i(" Customize the QR code below. Click save when you're done. ")]),_:1})]),_:1}),e("div",we,[e("div",null,[_e,U(e("input",{type:"color","onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),class:"mt-1 block w-full rounded-md bg-gray-700 border border-gray-600 focus:outline-none"},null,512),[[R,v.value]])]),e("div",null,[ke,U(e("input",{type:"color","onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s),class:"mt-1 block w-full rounded-md bg-gray-700 border border-gray-600 focus:outline-none"},null,512),[[R,y.value]])]),e("div",null,[Ue,U(e("input",{type:"range",min:"0",max:"50","onUpdate:modelValue":t[4]||(t[4]=s=>g.value=s),class:"mt-1 block w-full"},null,512),[[R,g.value]]),e("span",Re,$(g.value)+" px",1)])]),o(l(ne),null,{default:r(()=>[o(l(b),{onClick:P,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},{default:r(()=>[i("Save changes")]),_:1})]),_:1})]),_:1})]),_:1})])])]),Le]))}};export{tt as default};
