import{r as D,c as _,b as d,d as v,J as e,e as l,N as U,E as s,u as t,P as x,T as g,L as p,M as r,D as k}from"./@vue-DsGlF1-j.js";import{F as C}from"./vue-sonner-B2EpXGAv.js";import{_ as F}from"./AccountingSidebar-pKQpwrKS.js";import{a as n,b as m,c as V}from"./index-fh3STtDl.js";import{_ as T,a as q,b as B,c as M,d as J}from"./SelectScrollDownButton-BK2d6S2D.js";import{_ as j}from"./Textarea-DOtnrcQZ.js";import"./TooltipTrigger-Bqh97bnl.js";import"./radix-vue-6Z8x3TUN.js";import"./@internationalized-D5LszBdy.js";import"./@swc-BOtJyCjG.js";import"./@floating-ui-B6PpBHZy.js";import"./@heroicons-DH5_RU0z.js";import"./class-variance-authority-Bb4qSo10.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-3VKOpVsw.js";import"./vue-router-CrvMPvpV.js";import"./firebase-BQhzl84B.js";import"./@firebase-CBgXa-9_.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./vuex--kc_uza-.js";import"./@unovis-B16_51NZ.js";import"./@emotion-Dz_S_Xyw.js";import"./stylis-YPZU7XtI.js";import"./d3-transition-fhQpLGwb.js";import"./d3-dispatch-kxCwF96_.js";import"./d3-timer-DdKHrDhs.js";import"./d3-interpolate-DY0Cqdkz.js";import"./d3-color-Ceo1QMNe.js";import"./d3-selection-DSeOx27A.js";import"./d3-ease-Ox4sgw_u.js";import"./d3-interpolate-path-CTc7ZuM7.js";import"./striptags-CDKagow6.js";import"./@vueup-qMjKR5Ws.js";import"./quill-delta-COPIFlMW.js";import"./fast-diff-DNDSwfiB.js";import"./lodash.clonedeep-CrPEM4m0.js";import"./lodash.isequal-CemT60YI.js";import"./to-px-DReLD3CO.js";import"./parse-unit-3UrBcP19.js";import"./d3-array-BJvpcdQ_.js";import"./@juggle-C8OzoCMD.js";import"./d3-axis-Cf4shvhW.js";import"./d3-scale-A6k9qkjg.js";import"./internmap-BkD7Hj8s.js";import"./d3-format-CzD4bSOQ.js";import"./d3-time-format-COsUQkot.js";import"./d3-time-B8hJ2rEE.js";import"./d3-shape-D7Hvm6M3.js";import"./d3-path-CimkQT29.js";import"./throttle-debounce-BnOnwhtV.js";import"./embla-carousel-vue-CXHqejTr.js";import"./embla-carousel-reactive-utils-DkegjUUZ.js";import"./embla-carousel-QtEXB4oT.js";import"./@vueuse-H75eWtDf.js";import"./embla-carousel-autoplay-0OO14Ffu.js";import"./@radix-icons-C7iqcNif.js";import"./vuex-persistedstate-D4njCX8q.js";import"./maska-Cp-LWreF.js";const E={class:"bg-gray-100 min-h-screen flex ml-16"},L={class:"flex-1 p-8"},O=l("h1",{class:"text-3xl font-bold mb-8"},"Create Invoice",-1),P={class:"grid grid-cols-2 gap-4"},R={class:"grid grid-cols-2 gap-4"},A={class:"flex justify-between"},Q={class:"text-right"},z={class:"font-bold"},G={class:"flex justify-end"},I=10,et={__name:"InvoiceCreator",setup(H){const h=D([{id:1,name:"John Doe"},{id:2,name:"Jane Smith"}]),a=D({clientId:null,invoiceNumber:"INV-"+Date.now(),issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],items:[{description:"",quantity:1,price:0}],notes:""}),w=()=>{a.value.items.push({description:"",quantity:1,price:0})},$=c=>{a.value.items.splice(c,1)},f=_(()=>a.value.items.reduce((c,i)=>c+i.quantity*i.price,0)),b=_(()=>f.value*(I/100)),N=_(()=>f.value+b.value),S=()=>{console.log("Saving invoice:",a.value),C.success("Invoice saved successfully")};return(c,i)=>(d(),v("div",E,[e(F,{class:"shadow-2xl"}),l("div",L,[O,l("form",{onSubmit:U(S,["prevent"]),class:"space-y-6 bg-white shadow-md rounded-lg p-6"},[l("div",P,[l("div",null,[e(t(n),{for:"client"},{default:s(()=>[r("Client")]),_:1}),e(t(J),{modelValue:a.value.clientId,"onUpdate:modelValue":i[0]||(i[0]=o=>a.value.clientId=o)},{default:s(()=>[e(t(T),{id:"client"},{default:s(()=>[e(t(q),{placeholder:"Select client"})]),_:1}),e(t(B),null,{default:s(()=>[(d(!0),v(x,null,g(h.value,o=>(d(),k(t(M),{key:o.id,value:o.id},{default:s(()=>[r(p(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",null,[e(t(n),{for:"invoiceNumber"},{default:s(()=>[r("Invoice Number")]),_:1}),e(t(m),{id:"invoiceNumber",modelValue:a.value.invoiceNumber,"onUpdate:modelValue":i[1]||(i[1]=o=>a.value.invoiceNumber=o),readonly:""},null,8,["modelValue"])])]),l("div",R,[l("div",null,[e(t(n),{for:"issueDate"},{default:s(()=>[r("Issue Date")]),_:1}),e(t(m),{id:"issueDate",type:"date",modelValue:a.value.issueDate,"onUpdate:modelValue":i[2]||(i[2]=o=>a.value.issueDate=o)},null,8,["modelValue"])]),l("div",null,[e(t(n),{for:"dueDate"},{default:s(()=>[r("Due Date")]),_:1}),e(t(m),{id:"dueDate",type:"date",modelValue:a.value.dueDate,"onUpdate:modelValue":i[3]||(i[3]=o=>a.value.dueDate=o)},null,8,["modelValue"])])]),l("div",null,[e(t(n),null,{default:s(()=>[r("Items")]),_:1}),(d(!0),v(x,null,g(a.value.items,(o,y)=>(d(),v("div",{key:y,class:"flex space-x-2 mb-2"},[e(t(m),{modelValue:o.description,"onUpdate:modelValue":u=>o.description=u,placeholder:"Description",class:"flex-grow"},null,8,["modelValue","onUpdate:modelValue"]),e(t(m),{modelValue:o.quantity,"onUpdate:modelValue":u=>o.quantity=u,modelModifiers:{number:!0},type:"number",placeholder:"Qty",class:"w-20"},null,8,["modelValue","onUpdate:modelValue"]),e(t(m),{modelValue:o.price,"onUpdate:modelValue":u=>o.price=u,modelModifiers:{number:!0},type:"number",placeholder:"Price",class:"w-32"},null,8,["modelValue","onUpdate:modelValue"]),e(t(V),{type:"button",variant:"destructive",onClick:u=>$(y)},{default:s(()=>[r("Remove")]),_:2},1032,["onClick"])]))),128)),e(t(V),{type:"button",onClick:w,class:"mt-2"},{default:s(()=>[r("Add Item")]),_:1})]),l("div",A,[l("div",null,[e(t(n),{for:"notes"},{default:s(()=>[r("Notes")]),_:1}),e(t(j),{id:"notes",modelValue:a.value.notes,"onUpdate:modelValue":i[4]||(i[4]=o=>a.value.notes=o),rows:"3",class:"w-full"},null,8,["modelValue"])]),l("div",Q,[l("p",null,"Subtotal: $"+p(f.value.toFixed(2)),1),l("p",null,"Tax ("+p(I)+"%): $"+p(b.value.toFixed(2)),1),l("p",z,"Total: $"+p(N.value.toFixed(2)),1)])]),l("div",G,[e(t(V),{type:"submit"},{default:s(()=>[r("Save Invoice")]),_:1})])],32)])]))}};export{et as default};
