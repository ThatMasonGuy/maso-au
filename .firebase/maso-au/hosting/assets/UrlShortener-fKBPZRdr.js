import{_ as j,i as S,b as C,c as y,k as Q}from"./index-B_BK-3TZ.js";import{F as m}from"./vue-sonner-tOpOM8Nc.js";import{n as A,j as V,T as F,k as W}from"./@firebase-7dTA5crF.js";import{u as G}from"./vuex-F4EPD-zj.js";import{b as Y,_ as H,a as J}from"./TooltipTrigger-CQaA16an.js";import{Q as K}from"./qrious-BdsAawUW.js";import{e as O,f as $,g as X,h as Z}from"./@heroicons-D7NO6Ex3.js";import{r as l,c as ee,b as u,d as T,K as p,e as s,J as r,u as o,E as d,ae as te,x as ae,M as w,D as _,ac as oe,ad as se}from"./@vue-Cc5W6W03.js";import"./radix-vue-g1r_MIx6.js";import"./@internationalized-D5LszBdy.js";import"./@swc-BOtJyCjG.js";import"./@floating-ui-rhRhKn_Q.js";import"./class-variance-authority-Bb4qSo10.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-3VKOpVsw.js";import"./vue-router-Yx5yAxkf.js";import"./firebase-wUg9X9TS.js";import"./@unovis-B91CR5fh.js";import"./@emotion-Dz_S_Xyw.js";import"./stylis-YPZU7XtI.js";import"./d3-transition-fhQpLGwb.js";import"./d3-dispatch-kxCwF96_.js";import"./d3-timer-DdKHrDhs.js";import"./d3-interpolate-DY0Cqdkz.js";import"./d3-color-Ceo1QMNe.js";import"./d3-selection-DSeOx27A.js";import"./d3-ease-Ox4sgw_u.js";import"./d3-interpolate-path-CTc7ZuM7.js";import"./striptags-PW3Qp06w.js";import"./@excalidraw-_WJHnpoj.js";import"./react-D1sI5Brr.js";import"./react-dom-9hUPJye5.js";import"./scheduler-CzFDRTuY.js";import"./to-px-DReLD3CO.js";import"./parse-unit-3UrBcP19.js";import"./d3-array-BJvpcdQ_.js";import"./@juggle-C8OzoCMD.js";import"./d3-axis-Cf4shvhW.js";import"./d3-scale-A6k9qkjg.js";import"./internmap-BkD7Hj8s.js";import"./d3-format-CzD4bSOQ.js";import"./d3-time-format-COsUQkot.js";import"./d3-time-B8hJ2rEE.js";import"./d3-shape-D7Hvm6M3.js";import"./d3-path-CimkQT29.js";import"./throttle-debounce-BnOnwhtV.js";import"./embla-carousel-vue-Dcvag-wm.js";import"./embla-carousel-reactive-utils-DkegjUUZ.js";import"./embla-carousel-QtEXB4oT.js";import"./@vueuse-CclTXppY.js";import"./embla-carousel-autoplay-0OO14Ffu.js";import"./@radix-icons-Ce5A0lVI.js";import"./vuex-persistedstate-D4njCX8q.js";import"./maska-Cp-LWreF.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";const v=g=>(oe("data-v-fd4c1c2d"),g=g(),se(),g),re={class:"flex flex-col items-center p-6 bg-gray-900 pt-[--header-height] min-h-[--adjusted-height] text-white relative overflow-hidden"},le=v(()=>s("h1",{class:"text-4xl font-bold text-blue-400 mt-4 mb-6 animate-fade-in relative z-10"},"URL Shortener",-1)),de={class:"flex flex-col lg:flex-row items-start w-full max-w-5xl space-y-6 lg:space-y-0 lg:space-x-6 animate-slide-in relative z-10"},ne={class:"bg-gray-400/30 backdrop-blur-md shadow-lg rounded-lg p-8 w-full lg:w-2/3"},ce=v(()=>s("h2",{class:"text-2xl font-bold mb-4"},"Paste the URL to be shortened",-1)),ie={class:"flex space-x-4 mb-4"},me=v(()=>s("p",{class:"text-gray-400"},"URL Shortener is a free tool to shorten URLs and generate short links, making it easy to share.",-1)),ue={key:0,class:"my-4 flex space-x-4"},pe={class:"bg-gray-400/30 backdrop-blur-md shadow-lg rounded-lg p-8 w-full lg:w-1/3 flex flex-col items-center animate-slide-in"},fe=v(()=>s("h2",{class:"text-2xl font-bold mb-4"},"QR Code",-1)),ve={class:"h-48 w-48 bg-gray-600 border border-gray-300 rounded-lg mb-4 flex items-center justify-center"},ge={class:"flex space-x-2"},be=v(()=>s("div",{class:"text-sm"},"Coming Soon!",-1)),he=te('<div class="w-full max-w-5xl mt-6 animate-fade-in relative z-10" data-v-fd4c1c2d><h2 class="text-2xl font-bold mb-4" data-v-fd4c1c2d>Effortless URL Management</h2><p class="text-gray-400 mb-4" data-v-fd4c1c2d> Transform lengthy URLs into concise, shareable links with our user-friendly URL Shortener. Whether it&#39;s for social media, emails, or text messages, make your links more manageable. </p><h2 class="text-2xl font-bold mb-4" data-v-fd4c1c2d>Track Your Links</h2><p class="text-gray-400 mb-4" data-v-fd4c1c2d> Monitor the performance of your links with our advanced analytics. See how many clicks your shortened URLs receive and gain insights into your audience&#39;s engagement. </p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-center" data-v-fd4c1c2d><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>🚀</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Fast &amp; Easy</h3><p class="text-gray-400" data-v-fd4c1c2d>Shorten your URLs quickly and effortlessly. No signup required.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>🔗</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Versatile</h3><p class="text-gray-400" data-v-fd4c1c2d>Works with any URL, regardless of length or complexity.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>📊</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>In-depth Analytics</h3><p class="text-gray-400" data-v-fd4c1c2d>Gain insights with our detailed click tracking and analytics.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>🔍</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Reliable</h3><p class="text-gray-400" data-v-fd4c1c2d>Our service ensures your links are always accessible and reliable.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>⚙️</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Customizable</h3><p class="text-gray-400" data-v-fd4c1c2d>Customize your links for better branding and recognition.</p></div></div></div>',1),xe={__name:"UrlShortener",setup(g){const B=G(),n=l(""),c=l(""),E=l([]),b=l(!1),i=l(!1),f=l(null),L=l("#FFFFFF"),q=l("#000000"),k=ee(()=>B.getters.user),U=l(10),z=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<5;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},I=async()=>{let e,t;do{e=z();const a=V(S,"shortenedUrls",e);t=await W(a)}while(t.exists());return e},N=e=>new Promise((t,a)=>setTimeout(()=>a(new Error("Request timed out")),e)),P=async()=>{if(i.value=!0,console.log("Shorten URL button clicked"),!k.value){m.error("You need to be logged in to shorten URLs"),i.value=!1;return}if(!/^[^\s]+\.[^\s]+$/.test(n.value)){console.log("URL validation failed for:",n.value),m.error("Please enter a valid URL"),i.value=!1;return}const t=await I(),a=`https://maso.au/r/${t}`;try{await Promise.race([A(V(S,"shortenedUrls",t),{originalUrl:n.value,writtenBy:k.value.uid,writtenByUsername:k.value.userName,created:F.now(),updated:F.now(),viewCount:0,viewTimestamps:[]}),N(5e3)]),c.value=a,E.value.push({original:n.value,shortened:a}),console.log("URL successfully shortened:",a),n.value="",ae(()=>{const h=new K({value:c.value,size:240,background:L.value,foreground:q.value,level:"H"}),x=h.size+U.value*2;f.value.width=x,f.value.height=x;const R=f.value.getContext("2d");R.fillStyle=L.value,R.fillRect(0,0,x,x),R.drawImage(h.canvas,U.value,U.value)}),m.success("URL successfully shortened")}catch(h){console.error("Error shortening URL:",h),m.error("Failed to shorten URL")}finally{i.value=!1}},M=e=>{navigator.clipboard.writeText(e).then(()=>{m.success("URL copied to clipboard")},()=>{m.error("Failed to copy URL")})},D=()=>{b.value=!0;const e=document.createElement("a");e.href=f.value.toDataURL(),e.download="qr-code.png",e.click(),b.value=!1};return(e,t)=>(u(),T("div",re,[p(` Moving Blobs Background
        <div class="absolute inset-0 w-screen h-screen object-cover">
            <img class="blob animate-blob-1"
                src="https://blobcdn.com/blob.svg?seed=5&extraPoints=5&fill=d414f7" />
            <img class="blob animate-blob-2"
                src="https://blobcdn.com/blob.svg?seed=7&extraPoints=7&fill=4fcc0a" />
            <img class="blob animate-blob-3"
                src="https://blobcdn.com/blob.svg?seed=3&extraPoints=4&fill=5fdce0" />
        </div> `),le,s("div",de,[s("div",ne,[ce,s("div",ie,[r(o(C),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),type:"text",placeholder:"Enter URL...",class:"flex-grow p-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none"},null,8,["modelValue"]),r(o(y),{onClick:P,class:"px-4 py-2 bg-blue-600 text-white text-md rounded-lg hover:bg-blue-700"},{default:d(()=>[w(" Shorten URL "),i.value?p("v-if",!0):(u(),_(o(O),{key:0,class:"h-4 w-4 ml-2"})),i.value?(u(),_(o($),{key:1,class:"h-4 w-4 ml-2 animate-spin"})):p("v-if",!0)]),_:1})]),me,c.value?(u(),T("div",ue,[r(o(C),{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),type:"text",readonly:"",class:"flex-grow p-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none select-all"},null,8,["modelValue"]),r(o(y),{onClick:t[2]||(t[2]=a=>M(c.value)),class:"px-4 py-2 bg-blue-600 text-white text-md rounded-lg hover:bg-blue-700"},{default:d(()=>[w(" Copy "),r(o(X),{class:"h-4 w-4 ml-2"})]),_:1})])):p("v-if",!0)]),s("div",pe,[fe,s("div",ve,[s("canvas",{ref_key:"qrCanvas",ref:f,class:"h-full w-full rounded-lg"},null,512)]),s("div",ge,[r(o(y),{disabled:!c.value,onClick:D,class:"px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600"},{default:d(()=>[w(" Save "),b.value?(u(),_(o($),{key:0,class:"h-4 w-4 ml-2 animate-spin"})):p("v-if",!0),b.value?p("v-if",!0):(u(),_(o(Z),{key:1,class:"h-4 w-4 ml-2"}))]),_:1},8,["disabled"]),r(o(Q),null,{default:d(()=>[r(o(Y),null,{default:d(()=>[r(o(H),{class:"cursor-not-allowed"},{default:d(()=>[r(o(y),{disabled:!0,class:"px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 cursor-not-allowed"},{default:d(()=>[w("Edit")]),_:1})]),_:1}),r(o(J),null,{default:d(()=>[be]),_:1})]),_:1})]),_:1})])])]),he]))}},_t=j(xe,[["__scopeId","data-v-fd4c1c2d"]]);export{_t as default};
