import{_ as A,i as S,b as C,c as y}from"./index-ByaCfMbm.js";import{F as u}from"./vue-sonner-DMa2Z6ma.js";import{p as D,h as V,T as F,j as Q}from"./@firebase-COZMWGZ9.js";import{u as G}from"./vuex-DVcCUswK.js";import{b as W,_ as H,a as Y,c as O}from"./TooltipProvider-BH8pZ5Ym.js";import{Q as J}from"./qrious-CzK3OedV.js";import{e as K,f as $,g as X,h as Z}from"./@heroicons-DDHGplps.js";import{r,c as ee,b as m,d as T,H as f,e as o,G as l,u as s,A as d,a8 as te,n as ae,L as w,z as _,aa as se,ab as oe}from"./@vue-cyMv35w7.js";import"./radix-vue-D54VK6AM.js";import"./@internationalized-D5LszBdy.js";import"./@swc-BOtJyCjG.js";import"./@floating-ui-d_swowgK.js";import"./class-variance-authority-Bb4qSo10.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-3VKOpVsw.js";import"./vue-router-C5B29yds.js";import"./firebase-BBXXmy5H.js";import"./jspdf-CVWcoUId.js";import"./@babel-BsCcpEdk.js";import"./fflate-Cf-_J6lE.js";import"./embla-carousel-vue-DWN8dgMD.js";import"./embla-carousel-reactive-utils-DkegjUUZ.js";import"./embla-carousel-CvuiBM5S.js";import"./@vueuse-Blw-lTcY.js";import"./embla-carousel-autoplay-0OO14Ffu.js";import"./@radix-icons-CzUwYOT7.js";import"./vuex-persistedstate-D4njCX8q.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./core-js-D-YEncsT.js";const v=g=>(se("data-v-fd4c1c2d"),g=g(),oe(),g),le={class:"flex flex-col items-center p-6 bg-gray-900 pt-[--header-height] min-h-[--adjusted-height] text-white relative overflow-hidden"},re=v(()=>o("h1",{class:"text-4xl font-bold text-blue-400 mt-4 mb-6 animate-fade-in relative z-10"},"URL Shortener",-1)),de={class:"flex flex-col lg:flex-row items-start w-full max-w-5xl space-y-6 lg:space-y-0 lg:space-x-6 animate-slide-in relative z-10"},ne={class:"bg-gray-400/30 backdrop-blur-md shadow-lg rounded-lg p-8 w-full lg:w-2/3"},ce=v(()=>o("h2",{class:"text-2xl font-bold mb-4"},"Paste the URL to be shortened",-1)),ie={class:"flex space-x-4 mb-4"},ue=v(()=>o("p",{class:"text-gray-400"},"URL Shortener is a free tool to shorten URLs and generate short links, making it easy to share.",-1)),me={key:0,class:"my-4 flex space-x-4"},fe={class:"bg-gray-400/30 backdrop-blur-md shadow-lg rounded-lg p-8 w-full lg:w-1/3 flex flex-col items-center animate-slide-in"},pe=v(()=>o("h2",{class:"text-2xl font-bold mb-4"},"QR Code",-1)),ve={class:"h-48 w-48 bg-gray-600 border border-gray-300 rounded-lg mb-4 flex items-center justify-center"},ge={class:"flex space-x-2"},be=v(()=>o("div",{class:"text-sm"},"Coming Soon!",-1)),he=te('<div class="w-full max-w-5xl mt-6 animate-fade-in relative z-10" data-v-fd4c1c2d><h2 class="text-2xl font-bold mb-4" data-v-fd4c1c2d>Effortless URL Management</h2><p class="text-gray-400 mb-4" data-v-fd4c1c2d> Transform lengthy URLs into concise, shareable links with our user-friendly URL Shortener. Whether it&#39;s for social media, emails, or text messages, make your links more manageable. </p><h2 class="text-2xl font-bold mb-4" data-v-fd4c1c2d>Track Your Links</h2><p class="text-gray-400 mb-4" data-v-fd4c1c2d> Monitor the performance of your links with our advanced analytics. See how many clicks your shortened URLs receive and gain insights into your audience&#39;s engagement. </p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-center" data-v-fd4c1c2d><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>ğŸš€</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Fast &amp; Easy</h3><p class="text-gray-400" data-v-fd4c1c2d>Shorten your URLs quickly and effortlessly. No signup required.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>ğŸ”—</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Versatile</h3><p class="text-gray-400" data-v-fd4c1c2d>Works with any URL, regardless of length or complexity.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>ğŸ“Š</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>In-depth Analytics</h3><p class="text-gray-400" data-v-fd4c1c2d>Gain insights with our detailed click tracking and analytics.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>ğŸ”</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Reliable</h3><p class="text-gray-400" data-v-fd4c1c2d>Our service ensures your links are always accessible and reliable.</p></div><div class="bg-gray-400/30 backdrop-blur-md rounded-lg p-4 flex flex-col items-center transition-transform transform hover:scale-105" data-v-fd4c1c2d><span class="text-3xl mb-2" data-v-fd4c1c2d>âš™ï¸</span><h3 class="text-lg font-bold mb-2" data-v-fd4c1c2d>Customizable</h3><p class="text-gray-400" data-v-fd4c1c2d>Customize your links for better branding and recognition.</p></div></div></div>',1),xe={__name:"UrlShortener",setup(g){const z=G(),n=r(""),c=r(""),B=r([]),b=r(!1),i=r(!1),p=r(null),L=r("#FFFFFF"),q=r("#000000"),k=ee(()=>z.getters.user),U=r(10),E=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<5;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},I=async()=>{let e,t;do{e=E();const a=V(S,"shortenedUrls",e);t=await Q(a)}while(t.exists());return e},N=e=>new Promise((t,a)=>setTimeout(()=>a(new Error("Request timed out")),e)),P=async()=>{if(i.value=!0,console.log("Shorten URL button clicked"),!k.value){u.error("You need to be logged in to shorten URLs"),i.value=!1;return}if(!/^[^\s]+\.[^\s]+$/.test(n.value)){console.log("URL validation failed for:",n.value),u.error("Please enter a valid URL"),i.value=!1;return}const t=await I(),a=`https://maso.au/r/${t}`;try{await Promise.race([D(V(S,"shortenedUrls",t),{originalUrl:n.value,writtenBy:k.value.uid,writtenByUsername:k.value.userName,created:F.now(),updated:F.now(),viewCount:0,viewTimestamps:[]}),N(5e3)]),c.value=a,B.value.push({original:n.value,shortened:a}),console.log("URL successfully shortened:",a),n.value="",ae(()=>{const h=new J({value:c.value,size:240,background:L.value,foreground:q.value,level:"H"}),x=h.size+U.value*2;p.value.width=x,p.value.height=x;const R=p.value.getContext("2d");R.fillStyle=L.value,R.fillRect(0,0,x,x),R.drawImage(h.canvas,U.value,U.value)}),u.success("URL successfully shortened")}catch(h){console.error("Error shortening URL:",h),u.error("Failed to shorten URL")}finally{i.value=!1}},M=e=>{navigator.clipboard.writeText(e).then(()=>{u.success("URL copied to clipboard")},()=>{u.error("Failed to copy URL")})},j=()=>{b.value=!0;const e=document.createElement("a");e.href=p.value.toDataURL(),e.download="qr-code.png",e.click(),b.value=!1};return(e,t)=>(m(),T("div",le,[f(` Moving Blobs Background
        <div class="absolute inset-0 w-screen h-screen object-cover">
            <img class="blob animate-blob-1"
                src="https://blobcdn.com/blob.svg?seed=5&extraPoints=5&fill=d414f7" />
            <img class="blob animate-blob-2"
                src="https://blobcdn.com/blob.svg?seed=7&extraPoints=7&fill=4fcc0a" />
            <img class="blob animate-blob-3"
                src="https://blobcdn.com/blob.svg?seed=3&extraPoints=4&fill=5fdce0" />
        </div> `),re,o("div",de,[o("div",ne,[ce,o("div",ie,[l(s(C),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),type:"text",placeholder:"Enter URL...",class:"flex-grow p-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none"},null,8,["modelValue"]),l(s(y),{onClick:P,class:"px-4 py-2 bg-blue-600 text-white text-md rounded-lg hover:bg-blue-700"},{default:d(()=>[w(" Shorten URL "),i.value?f("v-if",!0):(m(),_(s(K),{key:0,class:"h-4 w-4 ml-2"})),i.value?(m(),_(s($),{key:1,class:"h-4 w-4 ml-2 animate-spin"})):f("v-if",!0)]),_:1})]),ue,c.value?(m(),T("div",me,[l(s(C),{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),type:"text",readonly:"",class:"flex-grow p-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none select-all"},null,8,["modelValue"]),l(s(y),{onClick:t[2]||(t[2]=a=>M(c.value)),class:"px-4 py-2 bg-blue-600 text-white text-md rounded-lg hover:bg-blue-700"},{default:d(()=>[w(" Copy "),l(s(X),{class:"h-4 w-4 ml-2"})]),_:1})])):f("v-if",!0)]),o("div",fe,[pe,o("div",ve,[o("canvas",{ref_key:"qrCanvas",ref:p,class:"h-full w-full rounded-lg"},null,512)]),o("div",ge,[l(s(y),{disabled:!c.value,onClick:j,class:"px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600"},{default:d(()=>[w(" Save "),b.value?(m(),_(s($),{key:0,class:"h-4 w-4 ml-2 animate-spin"})):f("v-if",!0),b.value?f("v-if",!0):(m(),_(s(Z),{key:1,class:"h-4 w-4 ml-2"}))]),_:1},8,["disabled"]),l(s(O),null,{default:d(()=>[l(s(W),null,{default:d(()=>[l(s(H),{class:"cursor-not-allowed"},{default:d(()=>[l(s(y),{disabled:!0,class:"px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 cursor-not-allowed"},{default:d(()=>[w("Edit")]),_:1})]),_:1}),l(s(Y),null,{default:d(()=>[be]),_:1})]),_:1})]),_:1})])])]),he]))}},Je=A(xe,[["__scopeId","data-v-fd4c1c2d"]]);export{Je as default};
